---
import { Image } from "astro:assets";

interface Props {
    tagName?: string;
    url: string;
    avatarUrl?: string | Image;
    name: string;
    description?: string;
}

const { tagName: LinkWrapper = "li", url, avatarUrl, name, description } = Astro.props;
---
<LinkWrapper>
    <a
        target="_blank"
        href={url}
        class="grid grid-cols-[4rem_1fr] grid-rows-[2rem_2rem] gap-[0_1.25rem] text-inherit no-underline text-primary-500 dark:text-primary-500 transition-colors hover:no-underline hover:text-primary-300 dark:hover:text-primary-300"
    >
        <div class="row-[span_2]">
            {
                avatarUrl ? (
                    typeof avatarUrl === 'string' ? (
                        <Image
                            src={avatarUrl}
                            alt={name + " 的头像"}
                            class="block size-16 bg-white/20 dark:bg-zinc-800 object-cover rounded-full"
                            inferSize={true}
                        />
                    ) : (
                        <Image
                            src={avatarUrl}
                            alt={name + " 的头像"}
                            class="block size-16 bg-white/20 dark:bg-zinc-800 object-cover rounded-full"
                        />
                    )
                ) : (
                    <div class="block size-16 bg-black/30 dark:bg-white/30 object-cover rounded-full" />
                )
            }
        </div>
        <p class="text-xl leading-[2rem] overflow-hidden text-ellipsis whitespace-nowrap m-0">{name}</p>
        <aside
            class="text-base leading-[2rem] text-black/80 dark:text-white/80 overflow-hidden text-ellipsis whitespace-nowrap"
        >
            {description}
        </aside>
    </a>
</LinkWrapper>